<div ng-controller="myTaskListCtrl as vm">
    <div style="width : 100%; position: relative; top: -15px;">

        <div class="row clear-both" >
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 bhoechie-tab-container">
                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 bhoechie-tab-menu">
                    <div class="list-group">
                        <a class="list-group-item active text-center" ng-class="vm.listType == 'TODAY' ? 'active' : ''" ng-click="vm.getTodayTask('TODAY')">
                            <h4 class="glyphicon glyphicon-plane"></h4><br/>오늘
                        </a>
                        <a class="list-group-item text-center"ng-class="vm.listType == 'TOMORROW' ? 'active' : ''"  ng-click="vm.getTodayTask('TOMORROW')">
                            <h4 class="glyphicon glyphicon-road"></h4><br/>내일
                        </a>
                        <a class="list-group-item text-center" ng-class="vm.listType == 'THIS_WEEK' ? 'active' : ''" ng-click="vm.getTodayTask('THIS_WEEK')">
                            <h4 class="glyphicon glyphicon-home"></h4><br/>이번주
                        </a>
                        <a class="list-group-item text-center" ng-class="vm.listType == 'SCHEDULED' ? 'active' : ''" ng-click="vm.getTodayTask('SCHEDULED')">
                            <h4 class="glyphicon glyphicon-cutlery"></h4><br/>예정
                        </a>
                    </div>
                </div>
                <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10 bhoechie-tab">
                    <ul class="nav nav-tabs nav-justified my-task-top-menu">
                        <li class="text-center"><span ng-class="vm.taskType == 'SCHEDULED' ? 'active' : ''" ng-click="vm.taskTypeChange('SCHEDULED')"><i class="fa fa-calendar-plus-o"></i>스케줄</span></li>
                        <li class="text-center"><span ng-class="vm.taskType == 'TEMPLATE' ? 'active' : ''"  ng-click="vm.taskTypeChange('TEMPLATE')"><i class="fa fa-calendar-plus-o"></i>템플릿</span></li>
                        <li class="text-center"><span ng-class="vm.taskType == 'ASSIGNED' ? 'active' : ''"  ng-click="vm.taskTypeChange('ASSIGNED')"><i class="fa fa-calendar-plus-o"></i>담당자</span></li>
                        <li class="text-center"><span ng-class="vm.taskType == 'CREATED' ? 'active' : ''" ng-click="vm.taskTypeChange('CREATED')"><i class="fa fa-calendar-plus-o"></i>요청한</span></li>
                        <li class="text-center"><span ng-class="vm.taskType == 'WATCHED' ? 'active' : ''" ng-click="vm.taskTypeChange('WATCHED')"><i class="fa fa-calendar-plus-o"></i>참조</span></li>
                    </ul>
                    <!-- flight section -->
                    <div class="bhoechie-tab-content active">
                        <div ng-repeat="task in vm.task">
                            {{}}
                        </div>
                    </div>
                    <!-- SCHEDULED section -->
                    <div class="bhoechie-tab-content" ng-show=" vm.taskType == 'SCHEDULED'">
                        <div ng-repeat="data in vm.task.repeatScheduledTasks" class="wms-chart-list">
                            <div  class="wms-tree-node-list task-list"
                                  ng-class="expandingProperty.cellClass" compile="expandingProperty.cellTemplate">
                                <div class="pull-right">
                                    <div>{{data.endDate}}</div>
                                    <div>
                                        <span ng-if="data.parent.name != null">상위 1</span>
                                        <span ng-if="data.subTasks.length > 0">하위 {{data.subTasks.length}}</span>
                                        <span ng-if="data.watchers.length > 0">참조 {{data.watchers.length}}</span>
                                        <!--<span>승인/미승인</span>-->
                                    </div>
                                </div>
                                <a ui-sref="my-task.detail({id : data.id, listType : vm.listType})">{{data.name}}</a><span ng-class="node.icon ? node.icon : ''"></span>
                                <i class="fa fa-user"/>
                            </div>
                        </div>
                    </div>

                    <!-- ASSIGNED search -->
                    <div class="bhoechie-tab-content" ng-show=" vm.taskType == 'ASSIGNED'">
                        <div ng-repeat="data in vm.task.assignedTasks" class="wms-chart-list">
                            <div  class="wms-tree-node-list task-list"
                                  ng-class="expandingProperty.cellClass" compile="expandingProperty.cellTemplate">
                                <div class="pull-right">
                                    <div>{{data.endDate}}</div>
                                    <div>
                                        <span ng-if="data.parent.name != null">상위 1</span>
                                        <span ng-if="data.subTasks.length > 0">하위 {{data.subTasks.length}}</span>
                                        <span ng-if="data.watchers.length > 0">참조 {{data.watchers.length}}</span>
                                        <!--<span>승인/미승인</span>-->
                                    </div>
                                </div>
                                <a ui-sref="my-task.detail({id : data.id, listType : vm.listType})">{{data.name}}</a><span ng-class="node.icon ? node.icon : ''"></span>
                                <i class="fa fa-user"/>
                            </div>
                        </div>
                    </div>
                    <!-- CREATED -->
                    <div class="bhoechie-tab-content" ng-show=" vm.taskType == 'CREATED'">
                        <div ng-repeat="data in vm.task.createdTasks" class="wms-chart-list">
                            <div  class="wms-tree-node-list task-list"
                                  ng-class="expandingProperty.cellClass" compile="expandingProperty.cellTemplate">
                                <div class="pull-right">
                                    <div>{{data.endDate}}</div>
                                    <div>
                                        <span ng-if="data.parent.name != null">상위 1</span>
                                        <span ng-if="data.subTasks.length > 0">하위 {{data.subTasks.length}}</span>
                                        <span ng-if="data.watchers.length > 0">참조 {{data.watchers.length}}</span>
                                        <!--<span>승인/미승인</span>-->
                                    </div>
                                </div>
                                <a ui-sref="my-task.detail({id : data.id, listType : vm.listType})">{{data.name}}</a><span ng-class="node.icon ? node.icon : ''"></span>
                                <i class="fa fa-user"/>
                            </div>
                        </div>
                    </div>

                    <!-- WATCHED -->
                    <div class="bhoechie-tab-content" ng-show=" vm.taskType == 'WATCHED'">
                        <div ng-repeat="data in vm.task.watchedTasks" class="wms-chart-list">
                            <div  class="wms-tree-node-list task-list"
                                  ng-class="expandingProperty.cellClass" compile="expandingProperty.cellTemplate">
                                <div class="pull-right">
                                    <div>{{data.endDate}}</div>
                                    <div>
                                        <span ng-if="data.parent.name != null">상위 1</span>
                                        <span ng-if="data.subTasks.length > 0">하위 {{data.subTasks.length}}</span>
                                        <span ng-if="data.watchers.length > 0">참조 {{data.watchers.length}}</span>
                                        <!--<span>승인/미승인</span>-->
                                    </div>
                                </div>
                                <a ui-sref="my-task.detail({id : data.id, listType : vm.listType})">{{data.name}}</a><span ng-class="node.icon ? node.icon : ''"></span>
                                <i class="fa fa-user"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<style>
    .my-task-top-menu li{
        border-left: 1px solid #ccc;
        border-top: 1px solid #ccc;
        border-bottom: 1px solid #ccc;
    }
    .my-task-top-menu li i{
        font-size: 20px;
    }
    .my-task-top-menu li span{
        padding: 13px 7px 12px 7px;
        background: #fff;
        color: #333;
    }
    .my-task-top-menu li span:hover {
        background: #fdfdfd;
    }
    .my-task-top-menu li span.active {
        background: #5A55A3;
        color:#FFF;
    }

    /*  bhoechie tab */
    div.bhoechie-tab-container{
        z-index: 10;
        background-color: #ffffff;
        padding: 0 !important;
        border-radius: 4px;
        -moz-border-radius: 4px;
        -webkit-box-shadow: 0 6px 12px rgba(0,0,0,.175);
        -moz-box-shadow: 0 6px 12px rgba(0,0,0,.175);
        background-clip: padding-box;
        opacity: 0.97;
        filter: alpha(opacity=97);
    }
    div.bhoechie-tab-menu{
        padding-right: 0;
        padding-left: 0;
        padding-bottom: 0;
        padding-top: 50px;
    }
    div.bhoechie-tab-menu div.list-group{
        margin-bottom: 0;
    }
    div.bhoechie-tab-menu div.list-group>a{
        margin-bottom: 0;
    }
    div.bhoechie-tab-menu div.list-group>a .glyphicon,
    div.bhoechie-tab-menu div.list-group>a .fa {
        color: #5A55A3;
    }
    div.bhoechie-tab-menu div.list-group>a:first-child{
        border-top-right-radius: 0;
        -moz-border-top-right-radius: 0;
    }
    div.bhoechie-tab-menu div.list-group>a:last-child{
        border-bottom-right-radius: 0;
        -moz-border-bottom-right-radius: 0;
    }
    div.bhoechie-tab-menu div.list-group>a.active,
    div.bhoechie-tab-menu div.list-group>a.active .glyphicon,
    div.bhoechie-tab-menu div.list-group>a.active .fa{
        background-color: #5A55A3;
        color: #ffffff;
    }
    div.bhoechie-tab-menu div.list-group>a.active:after{
        content: '';
        position: absolute;
        left: 100%;
        top: 50%;
        margin-top: -13px;
        border-left: 0;
        border-bottom: 13px solid transparent;
        border-top: 13px solid transparent;
        border-left: 10px solid #5A55A3;
    }

    div.bhoechie-tab-content{
        background-color: #ffffff;
        padding: 10px 20px;
        max-height: 284px;
        overflow: hidden;
        overflow-y: auto;
    }

    div.bhoechie-tab{
        padding:0;
    }
    .bhoechie-tab .wms-tree-node-list{
        border-left: 1px solid #ddd;
        border-right: 1px solid #ddd;
        padding: 15px 15px 20px 15px;
    }
    .wms-chart-list:last-child{
        border-bottom: 1px solid #ddd;
    }
</style>
