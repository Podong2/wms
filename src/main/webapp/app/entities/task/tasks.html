<div>
    <h2 translate="wmsApp.task.home.title">Tasks</h2>
    <jhi-alert></jhi-alert>
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12 no-padding-left">
                <button class="btn btn-primary" ui-sref="task.new" >
                    <span class="glyphicon glyphicon-plus"></span>
                    <span class="hidden-xs"  translate="wmsApp.task.home.createLabel">
                        Create new Task
                    </span>
                </button>
            </div>

            <!-- 구간검색 -->
            {{vm.searchQuery}}
            <div class="col-xs-12 no-padding-right">
                <form name="searchForm" class="form-inline searchForm">
                    <div class="input-group pull-right" >
                        <div class="form-group">
                            <label class="control-label">이슈</label>
                            <div class="">
                                <p class="input-group">
                                    <input type="text" class="form-control col-xs-2" ng-model="vm.searchQuery.name" id="searchQuery" placeholder="{{ 'wmsApp.task.home.search' | translate }}">
                                </p>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label">구간 검색</label>
                            <div class="">
                                <p class="input-group">
                                    <input type="text" class="form-control col-xs-2" ng-model="vm.dueDate" id="dueDate" picker-toggle>
                                    <span class="dueDateValues" picker-toggle>{{vm.searchQuery.dueDateFrom + " ~ " + vm.searchQuery.dueDateTo}}</span>
                                </p>
                            </div>

                            <div class="sectionDatePicker">
                                <div class="title">
                                    구간검색
                                </div>
                                <div class="pickerArea">

                                    <label class="control-label">From</label>
                                    <div class="">
                                        <p class="input-group">
                                            <input type="text" class="form-control" datetime-picker="dd MMM yyyy" ng-model="vm.dueDateFrom.date" is-open="vm.dueDateFrom.open"
                                                   enable-time="false" datepicker-options="vm.dueDateFrom.datepickerOptions" />
                                      <span class="input-group-btn">
                                          <button type="button" class="btn btn-default" ng-click="vm.openCalendar($event, 'dueDateFrom')"><i class="fa fa-calendar"></i></button>
                                      </span>
                                        </p>
                                    </div>

                                    <label class="control-label">To</label>
                                    <div class="">
                                        <p class="input-group">
                                            <input type="text" class="form-control" datetime-picker="dd MMM yyyy" ng-model="vm.dueDateTo.date" is-open="vm.dueDateTo.open"
                                                   enable-time="false" datepicker-options="vm.dueDateTo.datepickerOptions" />
                                      <span class="input-group-btn">
                                          <button type="button" class="btn btn-default" ng-click="vm.openCalendar($event, 'dueDateTo')"><i class="fa fa-calendar"></i></button>
                                      </span>
                                        </p>
                                    </div>
                                </div>
                                <div class="text-right pickerBtnArea">
                                    <button type="button" class="alert_close btn btn_submit btn_customs" owl-btn-check picker-toggle></button>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label">중요도</label>
                            <div class="">
                                <ol class="nya-bs-select" ng-model="vm.searchQuery.severities" actions-box="true" multiple data-size="5" data-live-search="true" disabled="disable">
                                    <li nya-bs-option="option in vm.code" data-value="option.id">
                                        <a>
                                            <span><span class="glyphicon" ng-class="option.icon"></span> {{ option.name }}</span>
                                            <span class="glyphicon glyphicon-ok check-mark"></span>
                                        </a>
                                    </li>
                                </ol>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label">담당자</label>
                                <picker-search source="vm.userLoad(vm.searchData.assigneeName, vm.assigneeUsers)"
                                                   search="vm.searchData.assigneeName"
                                                   ng-model="vm.assigneeUsers"></picker-search>
                        </div>


                        <br/>

                        <!-- 검색 영역 -->
                        <span  class="input-group-btn width-min" >
                            <button class="btn btn-info" ng-click="vm.search(vm.searchQuery)">
                                <span class="glyphicon glyphicon-search">엘라스틱서치</span>
                            </button>
                        </span>
                        <!-- 검색 영역 -->
                        <span  class="input-group-btn width-min" >
                            <button class="btn btn-info" ng-click="vm.getList()">
                                <span class="glyphicon glyphicon-search">목록검색</span>
                            </button>
                        </span>
                        <span class="input-group-btn width-min" ng-if="vm.currentSearch">
                            <button class="btn btn-info" ng-click="vm.clear()">
                                <span class="glyphicon glyphicon-trash"></span>
                            </button>
                        </span>
                        <!--<div class="form-group">-->
                            <!--<label class="col-sm-2 control-label">Difference</label>-->
                            <!--<div class="col-sm-10">-->
                                <!--<p class="form-control-static">10 (days)</p>-->
                            <!--</div>-->
                        <!--</div>-->
                    </div>

                </form>
            </div>
        </div>
    </div>
    <br/>
    <div class="table-responsive">
<!--        <table class="jh-table table table-striped">
            <thead>
                <tr jh-sort="vm.predicate" ascending="vm.reverse" callback="vm.transition()">
                    <th jh-sort-by="id"><span translate="global.field.id">ID</span> <span class="glyphicon glyphicon-sort"></span></th>
                    <th jh-sort-by="name"><span translate="wmsApp.task.name">Name</span> <span class="glyphicon glyphicon-sort"></span></th>
                    <th jh-sort-by="dueDate"><span translate="wmsApp.task.dueDate">Due Date</span> <span class="glyphicon glyphicon-sort"></span></th>
                    <th jh-sort-by="contents"><span translate="wmsApp.task.contents">Contents</span> <span class="glyphicon glyphicon-sort"></span></th>
                    <th jh-sort-by="severityId"><span translate="wmsApp.task.severity">Severity</span> <span class="glyphicon glyphicon-sort"></span></th>
                    <th jh-sort-by="taskAttachedFilesId"><span translate="wmsApp.task.taskAttachedFiles">Task Attached Files</span> <span class="glyphicon glyphicon-sort"></span></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="task in vm.tasks track by task.id">
                    <td><a ui-sref="task-detail({id:task.id})">{{task.id}}</a></td>
                    <td>{{task.name}}</td>
                    <td>{{task.dueDate}}</td>
                    <td>{{task.contents}}</td>
                    <td>
                        <a ui-sref="code-detail({id:task.severityId})">{{task.severityId}}</a>
                    </td>
                    <td>
                        <a ui-sref="task-attached-file-detail({id:task.taskAttachedFilesId})">{{task.taskAttachedFilesId}}</a>
                    </td>
                    <td class="text-right">
                        <div class="btn-group flex-btn-group-container">
                            <button type="submit"
                                    ui-sref="task-detail({id:task.id})"
                                    class="btn btn-info btn-sm">
                                <span class="glyphicon glyphicon-eye-open"></span>
                                <span class="hidden-xs hidden-sm" translate="entity.action.view"></span>
                            </button>
                            <button type="submit"
                                    ui-sref="task.edit({id:task.id})"
                                    class="btn btn-primary btn-sm">
                                <span class="glyphicon glyphicon-pencil"></span>
                                <span class="hidden-xs hidden-sm" translate="entity.action.edit"></span>
                            </button>
                            <button type="submit"
                                    ui-sref="task.delete({id:task.id})"
                                    class="btn btn-danger btn-sm">
                                <span class="glyphicon glyphicon-remove-circle"></span>
                                <span class="hidden-xs hidden-sm" translate="entity.action.delete"></span>
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>-->

        <ng-include src="'app/components/common/smartBody.html'"></ng-include>
    </div>
    <div class="text-center">
        <jhi-item-count page="vm.page" total="vm.queryCount"></jhi-item-count>
        <uib-pagination boundary-links="true" items-per-page="selectedPageRowCount" total-items="responseData.page.totalCount" ng-model="selectedPage" max-size="10" ng-click="getList(selectedPage-1)" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination>
    </div>
</div>
